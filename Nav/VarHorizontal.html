<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menú Lateral + Navbar</title>

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: sans-serif;
      }

      #btn-menu {
        display: none;
      }

      /* NAVBAR SUPERIOR */
      .top-navbar {
        background-color: #0d6efd;
        color: white;
        padding: 10px 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1100;
      }

      .top-navbar .menu-toggle {
        cursor: pointer;
        font-size: 1.5rem;
      }

      /* MENÚ LATERAL */
      .menu-lateral {
        width: 250px;
        height: 100vh;
        background-color: #f8f9fa;
        padding: 20px;
        position: fixed;
        top: 0;
        left: 0;
        transition: transform 0.3s ease;
        z-index: 1000;
        padding-top: 60px; /* espacio para el navbar */
      }

      .menu-lateral nav a {
        display: block;
        padding: 10px;
        color: #000;
        text-decoration: none;
        margin-bottom: 10px;
        border-radius: 5px;
      }

      .menu-lateral nav a:hover {
        background-color: #e2e6ea;
      }

      #btn-menu:not(:checked) ~ .menu-lateral {
        transform: translateX(-100%);
      }

      .content {
        margin-top: 60px;
        margin-left: 270px;
        padding: 20px;
      }

      @media (max-width: 768px) {
        .content {
          margin-left: 0;
        }

        #btn-menu:checked ~ .menu-lateral {
          transform: translateX(0);
        }
      }
    </style>
  </head>

  <body>
    <!-- Toggle oculto -->
    <input type="checkbox" id="btn-menu" />

    <!-- Navbar Superior -->
    <div class="top-navbar">
      <label for="btn-menu" class="menu-toggle text-white">
        <i class="fa-solid fa-bars"></i>
      </label>
      <span>CIBERFARMA - Bienvenido, Usuario</span>
    </div>

    <!-- Menú Lateral -->
    <div class="menu-lateral">
      <nav>
        <a href="index.html"><i class="fa-solid fa-house"></i> Inicio</a>
        <a href="productos.html"
          ><i class="fa-solid fa-boxes-stacked"></i> Productos</a
        >
        <a href="#" id="cerrarSesionLink"
          ><i class="fa-solid fa-right-from-bracket"></i> Cerrar sesión</a
        >
      </nav>
    </div>

    <!-- Contenido Principal -->
    <div class="content">
      <p>Aquí va el contenido principal de la página.</p>
    </div>

    <!-- Funcionalidad de Logout -->
    <script>
      document
        .getElementById("cerrarSesionLink")
        .addEventListener("click", function (e) {
          e.preventDefault(); // Evita la navegación inmediata
          Swal.fire({
            title: "¿Deseas cerrar sesión?",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Sí, cerrar",
            cancelButtonText: "No",
          }).then((result) => {
            if (result.isConfirmed) {
              // Redirige al controlador de logout
              window.location.href = "/cerrar-sesion";
            }
          });
        });
    </script>
  </body>
</html>
